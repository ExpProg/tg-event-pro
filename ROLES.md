# Ролевая модель Event Point

## Типы пользователей

В приложении Event Point реализована ролевая модель с двумя типами пользователей:

- **user** (пользователь) - обычный пользователь с базовым функционалом
- **admin** (администратор) - администратор с расширенными возможностями

## Настройка администраторов

### Способ 1: По ID пользователя

Для назначения администратора добавьте Telegram ID пользователя в файл `src/hooks/useUserRole.ts`:

```typescript
const ADMIN_IDS: number[] = [
  123456789,  // ID первого администратора
  987654321,  // ID второго администратора
  // Добавьте другие ID...
];
```

### Способ 2: Через роль в объекте пользователя

Если у вас есть возможность передавать роль напрямую в объекте пользователя:

```typescript
const user: TelegramUser = {
  id: 123456789,
  first_name: "Иван",
  last_name: "Иванов",
  role: "admin" // Явное указание роли
};
```

## Различия в функционале

### Обычный пользователь (user)
- Просмотр мероприятий
- Регистрация на мероприятия
- Создание мероприятий
- Базовый профиль

### Администратор (admin)
- Все возможности обычного пользователя
- Иконка щита в профиле
- Отметка "Администратор" в dropdown меню
- Доступ к панели администратора
- Расширенные возможности управления (планируется)

## Использование в коде

### Хук useUserRole

```typescript
import { useUserRole } from '@/hooks/useUserRole';

const MyComponent = () => {
  const { role, isAdmin, isUser } = useUserRole(user);
  
  return (
    <div>
      {isAdmin && <AdminPanel />}
      {isUser && <UserContent />}
    </div>
  );
};
```

### Утилитные функции

```typescript
import { isUserAdmin, getUserRole } from '@/hooks/useUserRole';

// Проверка администратора
if (isUserAdmin(user)) {
  // Логика для администратора
}

// Получение роли
const role = getUserRole(user);
```

## Как узнать свой Telegram ID

1. Напишите боту @userinfobot
2. Или воспользуйтесь ботом @getmyid_bot
3. ID будет показан в ответном сообщении

## Безопасность

- Список администраторов хранится в коде приложения
- Рекомендуется вынести ADMIN_IDS в переменные окружения для продакшена
- Роли проверяются на клиентской стороне, для серверной логики требуется дополнительная валидация 